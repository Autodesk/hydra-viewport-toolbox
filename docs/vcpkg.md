# Vcpkg Details

## Customizing the vcpkg Triplet (Optional)
By default, the vcpkg triplet is inferred from the target platform (Located in externals/vcpkg/triplets).
You can override this by setting the following CMake variable during configuration:
```bash
-DHVT_BASE_TRIPLET_FILE=/absolute/path/to/custom-triplet.cmake
```
This allows advanced users to:
-   Customize compiler flags or features used for all dependencies
-   Switch between shared vs static libraries
-   Target custom platforms or ABIs

Make sure your custom triplet inherits from a standard vcpkg triplet if needed.

For faster release-only builds, use this to skip building debug dependencies:
```bash
-DHVT_RELEASE_ONLY_VCPKG_DEPS=ON
```

## Cleaning vcpkg NuGet Cache (Optional)

**Note:** You can browse cached NuGet packages under the **"Packages"** section of the GitHub repository (right sidebar). These packages are auto-generated by `vcpkg` and include platform-specific metadata such as the compiler ID, version, and triplet hash. This is useful when diagnosing build issues or confirming what's cached.

If you're encountering issues with cached binary packages (e.g., missing or corrupted `.lib` files), you can delete the corresponding NuGet cache entry from GitHub. This can be done either manually via the GUI or using the included workflow.

#### Using the CI/CD Workflow

1. Go to the **Actions** tab on GitHub.
2. Select the **“Clean vcpkg NuGet Cache”** workflow.
3. Enter the name of the vcpkg package to clean (e.g., `tbb`, `usd`) and run in dry-run mode first.
4. Review the listed versions. If correct, run again with dry-run disabled to delete.

The workflow uses GitHub’s API to delete **all versions** of the specified package from the NuGet registry for this repo.

**Warning:** This should only be used by repo admins or advanced users when CI builds consistently fail due to corrupted or incorrect cached packages.